// zircon_dpbeta_changes.txt - October 14 2023, November 12 2023

Zircon is DarkPlaces with a mouse-driven menu, ALT-ENTER fullscreen/windowed switch,
cut/copy/paste in console and enhancements mostly focusing on user-interface.

r_waterwarp 2 is busted.  Anything else.  Why?

// Zircon Beta Release 59

1. r_lockpvs resets on a new map.  If set to 1, it would cause a crash on a map change or restart.

2. "modeldecompile" of an alias model no longer inverts the Y-axis

1. "modeldecompile" - optional frame #



3. csqc_beampolygons 0

4. r_waterwarp 2 busted

5.  r_transparentdepthmasking 1

6. (TREES)

TODO: wickedstart savegame/loadgame.  I don't see a clear path, need to examine more.

// Zircon Beta Release 58

1. PVS Fix from DarkPlaces Beta, which is intended to fix invisible monsters and/or monsters
   ignoring the player on very massive maps.

2. v_viewheight can add or subtract from viewheight.  For testing.  Quake default viewheight is 22.
   To get Half-Life viewheight of 28, set "v_viewheight 6" which will raise the viewheight by 6.

   This is for testing/experimentation.  The right way to set the viewheight is QuakeC in
   PutClientInServer ... set self.view_ofs = [0 0 22]; // 22 is Quake, 28 is Half-Life

3. Many small adjustments from DarkPlaces Beta regarding viewblends and framebuffer drawing.

// Zircon Beta Release 57

1. OBJ supports MD3 tagnames for model attachments:
   tagname propellor_rear 102.8 0.7 20.6  (tagname <name> <xoffset> <yoffset> <zoffset>)

2. Noclipping no longer touches triggers.   "noclip" movement does not fire touch functions.
	The old behavior is available with sv_altnoclip 0.

3. Shift + Up arrow/Down arrow scrolls console 1 line at a time (Shift + Pageup/Pagedown no longer do)

4. "devinfo" loads CSQC entities without a classname (before it ignored them and could say there
   were no CSQC entities if none of them had a classname.)

5. Purgeall command.  This allows reloading a model by "purgeall" and restarting a map.

6. poon-wood.bsp fix (signed underflow on load Mod_Q3BSP_LoadLeafs for mins maxs) ... note that
   I noticed what appears to be a shader parsing error somewhere in poon-wood.shader where leafs_01
   never gets parsed due to some unknown parse issue that occurred earlier in the shader file.  I moved
   leafs_01 to the top and worked right.

   https://github.com/DarkPlacesEngine/darkplaces/commit/43f63d6ac7120d5cd17300d801856a94e740e9c0

7. Made "addstat" (SV QuakeC) adding stat 0 (health) a developer print as Quake 1.5 does this.
   And it didn't warn in DarkPlaces Classic and is not likely a problem in this case.

8. Implemented DarkPlaces Beta bitshifting fix for "getstati" optional parameters.
   darkplacesextensions.qc with the engine source has the lightly documented extra parms in
   the prototype in an fteqcc compatible way.

9. Addstat fix to support EV_VECTOR (part 1).  SV_UpdateQCStats (fte: dpcompat_stats)

   FTE checks for EV_VECTOR on send and fills as such ...
		case ev_vector:
			statsf[qcstats[i].statnum+0] = eval->_vector[0];
			statsf[qcstats[i].statnum+1] = eval->_vector[1];
			statsf[qcstats[i].statnum+2] = eval->_vector[2];
			break;


   Part 1 achieves hiding the message in Quake 1.5 (which affects nothing, it didn't work even in
   DarkPlaces Classic).  Future: Part 2 will actually complete the implementation and make it work.

  (Need to create viable test subject for verification, without verification there is no way to 
  assure it works).

10. Collision_ValidateBrush: brush with no points! and similar brush collision messages 
   that sometimes print for a rare Quake 3 map are now developer prints.  The user can't
   do anything about them and those prints are annoying.

11. "developer_spawnfunction_warnings 3" to fine tune when "no spawn function for"
   print messages like original Quake, Quakespasm and derived engines.  DarkPlaces Classic
   would developer print these, Zircon does Quake behavior.  However, sometimes it would
   be nice to shut those up, particularly for Quake 3 maps with lots of weird entities.



12. Sprite unaligned struct access during loading fix from DarkPlaces Beta.

13. TODO: cl_particles.c - no changes that have an effect yet, modified a bit to possibly
    incorporate some changes with "Quake particles", need to examine in more detail first.

14. TODO: See about incorporating sys_shared.c changes in DarkPlaces Beta including crash
    report

15. TODO: See about incorporating fatpvs changes in DarkPlaces Beta
	https://github.com/DarkPlacesEngine/darkplaces/commit/541436b5a8750272755940c7b5c5c3bb469043a8


// Zircon Beta Release 56

1. Shift + Page Up/Page Down scroll the console by one line at a time to allowing scrolling up
   to a smaller degree than PGUP / PGDN in console.

2. "objmodelsplit" which can separate out a single group in an .obj model
    objmodelsplit models/vehicles/helicopter.obj 5 // splits out group 5 into a separate obj model
	objmodelsplit models/vehicles/helicopter.obj -5 // removes group 5 and writes a separate obj model
	The new obj model has _out appended to it .. so models/vehicles/helicopter_out.obj
	Note that obj is a text file format and the created obj model has statistics in comments at the
	top like # of verts/#triangles/etc.


// Zircon Beta Release 55

1. SV_Shutdown nows sets prog->loaded to false to allow cvar deletion for progs that are not running.
   Not all the way to perfect yet ... getting close.

2. Some persistent data uses changed to correct mempool so "memstats" does not report a leak since there
   is not one. Previously some permanent allocations used "tempmempool", which is incorrect.
   Also switched some missing texture allocations to use the texture memory pool.

3. "objmodeladjust" command supports more complicated obj models.

4. Reset world lights on gamedir change including clearing r_shadowmapname (realtime lights recently loaded map data)

5. Purge models and sounds on gamedir change Mod_PurgeALL / S_PurgeALL

// Zircon Beta Release 54

1. View blends ... they now fully reset on death/restart/gamedir change.  This fixes an issue that 
   jakub1 reported with Tomb of Thunder.

2. Division by zero turned to a developer print, unless developer 1 set.  Many single player
   Quake mods have division by zero occur regularly and other engines including classic DarkPlaces print
   nothing.  "developer 1" when testing a mod will print the messages.

3. Brush empty submodel is now a developer print, other engines do not print this warning and it takes
   away from the single player experience.  "developer 1" to see those.

// Zircon Beta Release 53

1. "jpegsplit" does png in addition to tga, updates the window titlebar with progress as it goes.

2. "devinfo" enhancements that display more information.

3. Adjusted the vid_samples range from 1 to 32.  But it doesn't work because DarkPlaces uses GLSL pixel shaders
   so vid_samples "works" (SDL2 gets and sets the multisample request) but multisample antialiasing does not
   work with pixel shaders, where GLSL (OpenGL shading language) tells every single pixel how to render.

4. "levelshot_maps_all".  Adjusted screenshot timer to wait until 10 frames are rendered to give a better 
   chance that all the lightmaps have been uploaded before taking a screenshot.

5. In progress .. get cdtrack to restart on vid_restart.

6. "devinfo" the TabSelect control on the left scrolls in case of "too many to display". 

7. "devinfo" displays cdtrack, skybox in "Map" section.  For BSP Entities, removes unsightly carriage return
   characters (char 13) which render in Quake as a brown special character.

// Zircon Beta Release 52

1. Changed some timers in Zircon-specific function to use host.realtime instead of calling the 
   real time system function Sys_DirtyTime ().  Code I wrote, infrequently called that function
   to get the "realtime" for detecting double-click and such.  I don't expect any behavior
   differences -- but wanted to "fix" this oversight and make sure multiple clicks in a single
   frame still count as double-clicks.

2. "levelshot_maps_all" will make screenshots for all maps in the current game directory.

3. "levelshot_here" will make a screenshot for the map you are on at the place you are at.


// Zircon Beta Release 51

1. Maps menu will display Q3 level screenshots "levelshots/mapname.tga".

2. Maps menu no longer refreshes after entering every time.  Press SPACE to refresh the list.
   Refreshing the map menu can be slow since DarkPlaces digs into each map finding the map title
   which means it parses the entities.  With a lot of maps, this can be slow.



// Zircon Beta Release 50

Linux compile -- after make sdl-release ... need to do: cat bundle/engine.zip >> zircon_beta_linux_sdl
To concatenate the engine bundle (contains form1.txt, icons and a column sizing cursor for SDL2).

1. "devinfo" - first use of new user-interface capabilities, a first step towards making
   more information available to the developer faster.

2. Solidified cvar reset after gamedir change.  It passes all the tests set up to catch issues.

3. SMEJ2 "solid cobwebs / waterfalls" resolved.  If a quake.rc does not have a default.cfg,
   Zircon will handle that situation by adding "default.cfg" to the command buffer as DarkPlaces
   is designed to use that to trigger certain engine startup settings.

4. Codeblocks IDE project file for Linux that worked with Zircon Beta #49.  Used Xonotic 0.8.6 CodeBlocks 
   project file as a starting

   Probably mostly supports Zircon Beta #50 compile, but the UI elements require an external pk3 
   that contains a cursor and some icons that is built during the compile and this is not implemented 
   in the CodeBlocks project file, so the UI elements will be missing at run-time.

5. Rewired TrueType font support to allow for loading a font from memory and the inclusion
   the open source friendly Google Roboto font.

6. Italian keyboard has a "+" key, now checking that for CTRL + "+" for console text sizing.

7. Clear menu reentrant on gamedir change if it is the maps menu (servers -- well QW)

8. Added an inactive implementation of a hemebond gameplay fix idea for testing.

9. Cvar vid_mouse_show_coords.  Defaults 0.

10. Added an engine .pak to the build process.

11. Large reduction of the number of pragma message developer messages.  Most of those thoughts
   or notes that remain active are now at the end of this file.

// Zircon Beta Release 49

1. Fixed a CSQC canvas issue with csqc_full_width_height

2. Cursor selection.

// Zircon Beta Release 48

1. gl_texturemode is in the Options->Change Video Mode menu

2. ALT-ENTER timer removed.  It seems to no longer be needed due to clearing rendering data on map load.
   The timer was to help prevent a crash with a cause I was not able to understand, I think it is solved
   now.  Only "developer 1" enables ALT-ENTER timer, in the event it is needed for testing.

2. Fixed crash related to stale CSQC drawpic by memset 0 of prog->polys on Renderer Shutdown.
   This crash was only possible in mods using R_BeginPolygon in CSQC, which is very few mods.
   
   This crash fix would fix a crash situation in DarkPlaces Classic with R_BeginPolygon on 3D textures
   however, DarkPlaces Beta uses a different system for 3D (Zircon can use either system, each have
   advantages.)
   
3. Improved total conversion support (mod_list.txt) and detection.

4. Made server browser not offer Quakeworld for total conversion custom games.

5. Some True Type Font groundwork.  DarkPlaces has supported True Type Fonts for ages.  I want
   to use it in the menus.
   
6. A memset 0 fix from DarkPlaces Beta that stops the 3D mesh system from doing memset 0 on a NULL
   pointer.  This never caused a crash on any operating system, but the C specification indicates that
   memset on a NULL pointer is not something you are supposed to do ... anyways ...

// Zircon Beta Release 47

1. Fixed Hebi_Hayaki/QuakeCombatPlus startup issue.  Able to replicate this.  Quake 1.5 and
   QuakeCombatPlus both autosave and save a game before the client has received and loaded models.
   The Zircon screenshot process was accessing stale rendering data that has not yet been reset.
   
   Depending on circumstances and the previous map loaded, this did not always occur.
   
2. Reverted 2 other changes in #47 (DarkPlaces Beta server shutdown adjustment) and some vabuf
   macro streamlining -- this is because I'd like to put those through some additional testing
   and I want version #47 to be a solid build without unknowns if possible, as change #1 above
   appears to affect Zircon Beta Release #43 thru #46.

// Zircon Beta Release 46

1. r_minlight default is now 0.  gl_overbright_models option in console is preferred.

2. gl_overbright_models defaults to 0.  This was the intended default however it was defaulting to 1.

3. fixed autocompletion of cvar aliases (it was autocompleting the cvar, not the alias)

4. DarkPlaces Beta/bones: sound fix SND_Spatialize_WithSfx for hard to replicate issue.

5. Eliminated some remnants that printed to the Linux console.

6. DarkPlaces Beta/bones: SV_DisableCheats_c fix

7. "framemap" Q3 shader, similar to animmap .. allows 2 buttons frames in Q3 map format.

8. Alteration of jack_scripts (nolightmap -> surfaceparm nolightmap, noimpact->surfaceparm noimpact, framemap -> map)


TODO: DarkPlaces encodes strings on save.  Some "WAD" strings.

// Zircon Beta Release 45

1. Improvements to maps menu (click Help and Ordering).

2. Improvements to Load Game menu.

3. Improvements to server list.

// Zircon Beta Release 44

TODO LINUX: Some checks for Linux server, need to remove some prints to the
Linux console.  Hit the shutdown segfault.

1. Linux now has an icon, Windows now uses SDL_SetWindowIcon.
   The embedded icon is s_zircon_icon_jpeg_base64
   
   Engine editing note: This uses standard JPEG to base64 method
   Use https://base64.guru/converter/decode/image/jpg
   
   Downside: Editing the zircon.exe with Resource Hacker or another tool
   to change the icon will no longer work.

2. Solved some Linux issues including inability to write large strings.

3. Fixed crash with pressing an alphabetic key in the load menu.

4. Eliminate a memory leak and hardened error handling for certain
   jpeg functions used by savegame.

5. With -home directories like the Linux default, the savegame menu
   will check both directories.

7. When using a -home directory, the video options and load game menu display the
   home directory.

8. Load game menu allows mouse selection of save without start it, does not scroll
   when mouse click selects an item.
   
9. Saved fov for +zoom alias is set upon config load.

// Zircon Beta Release 43

1.  Visual Load Game menu with screenshots that are saved into the save game when saving.
    These save game files will load in DarkPlaces, Quakespasm, etc.  The data is ignored by other
    modern engines.  "sv_save_screenshots 1" is the cvar.  Setting to 0, will not save screenshots
    in saves and will not use new Load Game menu, but the classic Quake one.

2.  gl_overbright_models is now in the menu.  With it enabled, Zircon looks pretty much like Quakespasm.

3.  "gl_overbright_models 1" healthboxes and ammo boxes or other Q1 .bsp items.  Setting "gl_overbright_models 2" will 
    apply the overbrighting to healthboxes and ammo boxes, but Quakespasm does not do this.

4. "playvideo" works and works in the console too (it didn't in classic DarkPlaces).  
    Supports .dpv, animated .gif and a folder of jpegs.  Can have an associated audio file as well.

5. Fixed a mistake I made with cl_chatmode.  "disconnect; menu_load" would check the first word
   to see if it was a command.  Because I used the wrong token parse, the first word would be "disconnect;"
   and not "disconnect".  Corrected this mistake.  If a demo was playing, this could result in 
   some console commands not being processed if they had a trailing semi-colon
   
6. Made cl_chatmode also check for demo playback and if a demo is playing, do not consider command line
   for cl_chatmode "type in console".

7. Corrected a memory leak in intermap travel load game, a temp variable was not being freed.

8. Test commands: jpegshotclip, jpegextract, giftoclip

9. "objmodeladjust" can recenter and scale obj models.  Made because Noesis adds extra faces and vertexes
   to .obj models on import.

10. Renamed developer_loadfile to developer_loadingfile_fs to push it down autocomplete list, it has only a        single use in the source code.

11. There are numerous other internal changes for optimization, although these are significant and important,
    other than autocomplete strengthening, few of them be noticeable except looking at dramatically simpler
    source code in few dozen places.
    
12. "playloop" console command, similar to "play" (play a .wav or .ogg) except that playloop will loop the
    sound playback.

// Zircon Beta Release 42

1. New command effectinfo_list will list the loaded client effects from effectinfo.txt

2. New command effectinfo_dump will print full text of an effect.
   Example: "effectinfo_dump torch_small"

3. "snd_waterfx 1" added from DarkPlaces Beta -- muffles sound underwater.

4. Maps menu and maps command list BSP 47 and 48 maps (Quake Live is BSP 47).

// Zircon Beta Release 41

1. sv_gameplayfix_fiendjumpfix defaults 0 due to a sliding corpse compatibility issue
   with Quake 1.5.  "sv_gameplayfix_fiendjumpfix 1" seems to have no ill effects in Quake.

2. zircon_command_line.txt now supports // to comment out unwanted params.
		
3. "map park deathx" ... ability to specify a map and a startspot.

4. ZIRCON_INTERMAP_VERSION_1 and ZIRCON_PFLAGS_CORONA_ONLY_RENDERS are now in the QuakeC
   extensions list to give official DarkPlaces the possibility of adding these extensions
   to be able to play the Intermap Demo (2024 Quake Omega Effects Challenge Series #1 of 20)

// Zircon Beta Release 40

1. Added extra clock data (surplustime) exposed to QuakeC and saved for Intermap Travel to support countdown timers.  surplustime (QuakeC global) is the amount of time to subtract from sv.time to get the number
of seconds elapsed for the current visit to the map.

2. Unique startup key to help console commands like pak_this_map
   write predictable random .shader names that don't collide
   with future use of the command while using the same one during
   a session.  Was hiding "map.shader" by there being multiple copies
   of "map.shader" -- now map_383883.shader or such ..
   
3. shaderprint -- prints the file the shader is located in and where is it (pak, dir, etc.)

4. With showtex 1, shaderprint works with no args.

// Zircon Beta Release 39

1. "shaderprint" -- find the text for a shader and print it.  It autocompletes from nothing.
   Press CTRL + SPACE to autocomplete from nothing.
   
2. "pak_this_map" -- display a report of the currently loaded Quake 3 map
   "pak_this_map <folder>" like "pak_this_map mymap"
   --- Will copy all image resources and shader text into "mymap" folder

3. "pak_this_map mymap overwrite" -- overwrite .. will CUMULATIVE SHADER mode
   Goto map1 --> "pak_this_map mymap overwrite" 
   Goto map2 --> "pak_this_map mymap overwrite" // Will sort through scripts/map.shader 
     and write out cumulative update to scripts/map.shader containing unique entries. 
     
     ("Adds to the shader list mode")

// Zircon Beta Release 38

1. menu_keylist_txt allowing customization of keys menu without QuakeC.

3. "jpegsplit <folder>" converts tgas in that folder to jpeg including a separate one with alpha channel.

4. Bad "droptofloor" warning is a print instead of dprint (as most other engines do).

5. "no spawn function" warning is a print instead of a dprint (as most other engines do).

6. Altered lit sprite rendering to not use 0.25 of ambient.  (more to do?)  We did not add fullbright effect to additive sprites (yet?).

7. Corona only effect via QuakeC pflags field render.  cl_main.c will do a realtime light
   if PFLAGS_Dynamic is not set but PFLAGS_CORONA is.

8. Fixed bug with intermap startspot not setting QC global first time entering a map.

9. Intermap: new QuakeC fields: totaltimeatstart and totaltimeatlastexit (TotalTimeAtStart, TotalTimeAtLastExit)


TODO: Add PFLAGS to static entities
TODO: Fix PNG screenshot issue where it fails and falls back writing .tga with png extension.
NOTE: scr_screenshot_png defaults 0, scr_screenshot_jpeg defaults 1

ALSO: "bitatomize" command that prints the bits present in an integer. "parse" that simulates token parsing of a string.

// Zircon Beta Release 37

1. "gl_overbright_models 1" and "gl_overbright_world 1" option, overbrights models in-game similar
    to what Quakespasm and other derivates do.
    
2.  EF_NOSHADOW is now supported for static entities.

3. Fixed missing q3 textures were not printing "missing texture".

4.  "copy" command that copies console to clipboard uses super-fast string type that allows very fast
    string concatenation.  Console buffer with 10000 lines used to take a couple of seconds to copy to
    clipboard, now it feels instant.

5. Intermap travel (changelevel2 [map] [startspot]) -- does not support static entities at this time
   enable_intermap 1 (enabled) or enable_intermap 2 (force even for teleporters without changelevel) needs defined the QuakeC, trigger_changelevel
   should specify a "startspot".  
   
   QuakeC: BeforeExitMap.  Changelevel2 saves entities but calls BeforeExitMap for any cleanup QuakeC wants to do
           first -- like remove missiles, set monster.enemy = world and such.
   QuakeC: ReturnToMap. Fired while returning to a map, ReturnToMap should call worldspawn
   QuakeC: The global .string startspot; is a string representing the start spot.
   QuakeC: The global .float enable_intermap; should be set to 1 or 2 in worldspawn()
   
   All trigger changelevels should set spawnflag 1 (no intermission).
   
   makestatic(self) should instead call a function like void makestatic_maybe (entity e); that sets

  	e.movetype = MOVETYPE_NONE;
	e.solid		= SOLID_NOT;

	and then does NOT makestatic.  Currently makestatic is not supported for intermap. 
   
6.  r_editlights_save [shift_x] [shift_y] [shift_z] optionally move the lights when saving... 
	For example: r_editlights_save 0 0 1000, which would save with the lights
    moved up 1000 units.  Enables possibility of moving all rtlights and then saving if you wanted to
    combine multiple maps together.
    
7.  Removed sound played when copying data to clipboard, it actually caused slight tearing.
               
TODO: For reasons unclear, gamedir change can sometimes lead to showfps 1 not being rendered.
TODO: I noticed cvar behavior is not always 100% right with gamedir changing.  DarkPlaces Beta at github
has some new fixes need to investigate.


// Zircon Beta Release 36

1. "quit" now works with command line.  c:\quake\zircon_beta_gcc.exe "+do this" +quit // works!

2. "map" prints map name, whether the map has wateralpha support, whether the map has visibility data
   and prints the worldspawn keys.
   
3. "copy ents" will open the maps/start.ent file and use that instead if found.

4. "envmap auto" creates an environmental map from the current position in jpeg format with a size of 
   512 x 512 and outputs to env folder.  Among other things, can be used with
   https://danilw.github.io/GLSL-howto/cubemap_to_panorama_js/cubemap_to_panorama.html to create a 
   cubemap for an environment effects shader.
   
5. "envmap auto" autocompletes

6. "jack_scripts" command line now scrubs "animmap", "dp_camera", "qer_alphaFunc"

7. Maps can specify a "sv_progs" "progs.dat" worldspawn key.  That progs.dat will be used by the server
   when the map loads.

// Zircon Beta Release 35

1. A preprocessor macro had wrong punctuation, caused improper expansion of $macros in aliases and perhaps
   other side effects.

2. More thorough checking Q3 maps to determine if have light data.  Some q3map2 compilers produced maps that
   DarkPlaces Beta report as having light data, yet do not.  Tested a number of Quake 3 maps.
   
   I am slightly concerned about an unusual Quake 3 map that may be affected by this change, such as possibly
   a map without only .rtlights or perhaps lit in some manner permitted by DarkPlaces that I do not have a test
   case for.

3. Fixed builtin +zoom macro.

// Zircon Beta Release 34

1. Zero Ping Movement Option (sv_allow_zircon_move 1)
   Requires cl_movement 2 in single player

2. Quake Rerelease Improved.  There were missing
   QuakeC builtins in Zircon.  There are more than one
   version of the Quake Rerelease.  I hope Zircon is now able to play it regardless of version.

3. New DarkPlaces Beta fix from github for certain real-time light situations that could cause memory corruption.

4. Improvements and hardening of Zircon protocol extensions and refinement from extra compatibility testing.

5. Improved makefile.

// Zircon Beta Release 33

1. Quake Rerelease addressed "unbound keys upon startup because there is no default.cfg".  If the
   Quake Rerelease is detected and default.cfg is missing, use internal hardcoded default.cfg
   which is identical to original Quake default.cfg with the following exceptions:
   
   - Movements keys are WASD
   - "<" and ">" are next and previous weapon (impulse 10, impulse 12).  The actual keys are "." and ","
   - Sensitivity is 9 instead of 3.
   - Always run starts "on". (cl_forwardspeed 400, cl_backspeed 400)
   
2. "sv_players_walk_thru_players 1" -- players can walk through other players.  This is done by setting
    each player to "clipgroup" "1" (a QuakeC field) when PutClientInServer occurs. 

3. Adjusted built-in +zoom alias.  DarkPlaces preprocesses "$" and we needed 2 of them, not one.
   -zoom had only 1 "$", this was causing "missing variable" to print to screen.
   
4. developer_keycode for debugging (will print keycode information when keys are pressed).

5. developer_zext for debugging (prints Zircon protocol extension information).

6. "sv_clmovement_soundreliable 1" -- will cause sound messages to client to be reliable.
 
7. Communication of entity bounding boxes to clients with Zircon extension that supports it.

// Zircon Beta Release 32

1. French keyboard ...made "Superscript 2" key work on French keyboard.
   Superscript 2 is AZERTY keyboard key that lives in the same place as "tilde" does and is expected to toggle the console.
   (This problem is caused by SDL2.dll and the statically linked SDL2 behaving differently, SDL2.dll returns keycode 96
   and statically linked SDL2 returns keycode 178).

// Zircon Beta Release 31

1. Fixed client-side collision against inactive entities.

2. DarkPlaces server connections no longer collide against monsters
   as this was causing collision against dead monster bodies as well.

3. Zircon server enhanced communication of non-solid entity states
   now includes MOVETYPE_FLY and MOVETYPE_FLYMISSILE when not marked
   FL_MONSTER.

4. "entities 2" print collision box sizes.

5. "sv_pext 0" disables Zircon server protocol extensions.  Requires new map / restart level to take effect.
   "cl_pext 0" disables Zircon client protocol extensions.

6. "status" shows server extensions code.

7. Fixed a crash scenario when a server contains "%0" or such in an alias.

// Zircon Beta Release 30

1. "showmodel" command displays a model with optional <frame number> <z origin adjust> <scale>

   Example: showmodel progs/player.mdl
   Example: showmodel progs/player.mdl 3 -20 2 // frame 3, move down 20 units, scale = 2 

2. Pressing TAB in the sbar if cl_movement is activated in single player ("cl_movement 2") will show
   prediction mode like "DP7"
   
3. Fixed Linux compile, the gcc compiler for Ubuntu did not like some of the function prototypes.

// Zircon Beta Release 29

1. Zircon now supports static entities (func_illusionary, torches, anything makestatic) with:
   alpha, colormod, scale, EF_ADDITIVE, EF_FULLBRIGHT via a protocol extension 
   (ZIRCON_EXT_STATIC_ENT_ALPHA_COLORMOD_SCALE_32) 

2. Zircon now transmits render flags as 32-bit unsigned integer instead of 8-bit unsigned char, if the
   client reports extension ZIRCON_EXT_32BIT_RENDER_FLAGS_16.
   
   And in the render flags, Zircon server will add NON_SOLID_256 flag that a client with ZIRCON_EXT_NONSOLID_FLAG_8
   can use to collide against monsters, but not non-solids (SOLID_NOT, SOLID_TRIGGER, SOLID_CORPSE).

3. "entities" console command .. includes non-solid flag column.

4. svc_updateuserinfo >= cl.maxclients better message, it occurs when connecting to some Quakeworld servers,
   and the new output indicates that cl.maxclients is not being allocated to 32 early enough during the connect.
    
5. Zircon protocol extension communication adjustments during connection.
   
6. "developer 1" will print Zircon protocol extension communication events to console (client tells server what
   extension it has, server will check against own extensions --> server replies shared extensions that will be
   in effect).

7. "developer_stuffcmd 1" will print stuffcmd messages to the console, this was added in inspect maps or mods 
   for development to see how something is working or for bug testing.

8. "developer_svc 1" will print svc parse messages like svc_centerprint ignoring the common svc messages.
   Set to 2 and it will print them all.
   
9. "cl_movement_collide_nonsolid_red 1" will make prediction non-colliding models glow red.  For development
   purposes.
   
10. "r_drawentities 10" will only draw entity #10 (type "entities" to see what is an scene), it does not show
    static entities like torches or func_illusionary.
   
TODO: Still no mechanism for collision against entities with no model, completely invisible and perhaps
   other corner cases.

// Zircon Beta Release 28

1. Changed: the previous implementation of Quakeworld collision with monsters also collided with dead/dying
   monsters.  Quakeworld identifies monsters with a hardcoded list like progs/soldier.mdl so added a table of
   death frame numbers and during those frames, monsters are treated as non-solid.
   
2. cl_movement 2 will force prediction even in single player. 

TODO: The implementation of Zircon client-side collide monsters missed a small but important detail, the RENDER
flags are transmitted to the client as a byte (0-255 value range) stripping the NON_SOLID flag 256, making it
not work.  Still looking for a non-intrusive backwards compatible way to convey this information without using
a protocol extension.

// Zircon Beta Release 27

1. "showtex 2" now collides with water and sky surfaces and shows texture in a corner of screen.  "showtex 1"
   "showtex 1" does not collide against translucent surfaces (water, lava, certain other types of textures).

2. "copy tex" will copy the texturename of the current texture being pointed to (like showtex 1) does.

2. Cheats like "give" and such were tied exclusively to the sv_cheats cvar.  Zircon now uses the same scheme
   as Quake (if deathmatch, no cheats).  sv_cheats 2 will allow "give" and "god" to work in deathmatch.

3. net_slist_queriespersecond increased from 20 to 200.  Make server list fill in way faster -- about 1 second
   versus 7 seconds, ping times shown are less accurate.
   
4. Quake 3.  If a shader has "rgbGen exactVertex" (DarkPlaces does not have this implemented) Zircon will 
	substitute "rgbGen vertex" which often look about the same.  TODO: Read the specs and see about implementing exactvertex

5. Fixed a buffer overrun scenario in wad.h caused by DarkPlaces looking for textures exceeding 15 characters
   in a .wad file (the cleaned up texture name does not get null terminated if length is 15+, solved by simply
   returning "not found" if strlen is 16 or more.) 

6. Prepared source code for clean implementation of Zircon "0 ping multiplayer", had to reorganize some code
   and make some clarifications.

// Zircon Beta Release 26

1. Client-side prediction now blocks against monsters (cl_movement_collide_models 1) -- you don't want to walk
   through monsters, feels wrong and this is normal behavior for DarkPlaces and Quakeworld.
   
   (What happens is that the server will correct your movement saying "no you didn't move that far", but
   depending on the ping -- it can feel weird!) 

	Server is DarkPlaces, the player will collide against MOVETYPE_STEP / RENDER_STEP entities (no collision vs. scrags).
	Server is Quakeworld, the player will collide against monsters hardcoded into the engine (the Quaekworld tradition).
	
	Server is Zircon, the player will collide against entities model bounding box
	  IF entity is NOT marked "SOLID_NOT".  (Or SOLID_TRIGGER or SOLID_CORPSE).

	This data is transmitted via the RENDER_SOLID_NOT_BAKER_256 flag 
	(funky name is so it can be found in source code).
	
	This means Zircon client to Zircon server clientside prediction collides based on the QuakeC solid flag.
	Except that Zircon client does not know collision boxes set in QuakeC setsize that differ from
	the model bounding box.
	
	Mods that use (sv_gameplayfix_setmodelrealbox 1) and do not setsize on models, the collision size should
	be identical.  DarkPlaces with standard Quake does not use sv_gameplayfix_setmodelrealbox.
	
	Short version:  The Zircon to Zircon clientside collision is better, Zircon to Quakeworld coop collision
	is better than Quakeworld's and Zircon to DarkPlaces collision is better than DarkPlaces (which doesn't 
	collide against monster AND falsely collides against func_illusionary map models).

2. Zircon was not asking for chunked downloads from the server when using DarkPlaces Protocol 7 (Zircon default).
	Fixed.
	
3. "entity" command has a column header.

4. cl_movement 2 .. to force cl_movement in single player.

// Zircon Beta Release 25

1. Zircon supports chunked downloads as a server.  In tests, the download speed was 17 times faster
   than the maximum I can get DarkPlaces to do, and the top speed is over 100x faster than 
   the DarkPlaces default settings.

2. Quake 1 .LIT file download for Quakeworld.

   Quakeworld map downloads attempt the map .lit file first for any missing map download.
   Quake maps often come with a colored lights file, like e1m1.lit and this is part of the map
   experience.
   
   This works because Quakeworld servers are very liberal about allowing downloads
   from the maps/ folder.
   
   For the same reasons, trying to download skyboxes is likely futile because those are in
   gfx/env folder and a typical Quakeworld server will disallow.
   
   Unfortunately, by default, DarkPlaces servers disallow many kinds of downloading (this is not true 
   of Zircon).  Eventually I have the DarkPlaces protcol do similar.

3. No more .tmp files when downloading via chunked downloads.  Downloads for chunked downloads are
   written to memory as they process.
   

// Zircon Beta Release 24

Updated the source to get the Linux compile to work, also supplying Linux SDL and dedicated server binaries.

1. Zircon now supports FTE protocol extension for large entity counts for Quakeworld (2048 entities, the Quakeworld standard is 512).
   On an FTE server running large coop maps, sometimes entities were invisible without this extension because they
   exceed the Quaekworld limit of 512.  This isn't just more recent maps -- hip1m3 -- one of the more prominent mission pack levels
   featuring a mining tunnel with train tracks leading down is one example of a map that requires large entity count support
   for Quakeworld.
   
2. cl_movement does not affect locally hosted games (that means single player or if hosting a game !sv.active)
   cl_movement 1 was interfering with, say, typing "impulse 9" in the console or "freezeall".

3. Scrags are now movement interpolated.  All monsters (FL_MONSTER .flag in QuakeC) get RENDER_STEP which
   causes DarkPlaces client to interpolate the movement.  This is sv_gameplayfix_monsterinterpolate 1,  Set to
   0 to turn this off.  I know of no convenient way to test this, it mostly affects scrags and they don't
   move very fast.  However, I saw this listed at an issue at the DarkPlaces github.

4. Setting sv_protcolname will now disconnect first.  In DarkPlaces Beta, running a map in DP7 and typing "sv_protocolname Quake; kill" will crash the engine
   as there is some confusion on the right method to shutdown the server.  Disconnecting was the cleanest way to solve the problem.
   
5. force_centerview sets roll to 0.  During testing on various coop servers, very rarely my roll angles from a telefrag could get tilted.
   "force_centerview" will clear that situation now.

6. ALT-ENTER limiter only prints "please wait 0.4 seconds" instead of having extra floating point digits.

7. Console prints when "coop 1" sets "deathmatch 0" on start of a map.  It is standard Quake behavior
   to set deathmatch to 0 if coop is non-zero.  It's a rareish situation and rather than mysteriously
   do something silently, Zircon will at least print it to console.

// Zircon Beta Release 23

1. Fixed a typo that caused connection issues with DarkPlaces servers.

// Zircon Beta Release 22

1. Chunked downloads 4 times faster.  

   Modified some of the network code for more flexible unreliable messages,
   allowing Zircon to request more chunks at a time.

2. Zircon clients connected a Zircon server will automatically perform gamedir change.  For reasons unknown,
   DarkPlaces doesn't do that except when connecting to Quakeworld servers.

3. Zircon supports protocol extensions for DarkPlaces Protocol 7 (the main DarkPlaces protocol).

   This will allowing adding more capabilities in Zircon while remaining compatible with DarkPlaces.

4. Quakeworld weapon switching behavior in single player should closely mirror regular Quake, added default
   infokeys b_switch and w_switch with values of 9 to cause automatic weapon switch.

5. "spectators" infokey set to 0 instead of "" to indicate "join" seems to work better with MVDSV servers.

6. Tweaked definition of spectators to include 1000 health or more for CRx servers, a hack until
   I discover why sometimes there is a spectator state that remains undetected.

NOTE: hip1m3 rock doesn't show when playing on Let's Coop Quakeworld server.
NOTE: Add a "join" hint to spectator overlay?
NOTE: The multiplayer scoreboard could be nicer and more legible.   
   
// Zircon Beta Release 21

1. Quakeworld monster movement interpolation.

2. Improved Quakeworld spectator behavior, the movement is smooth and displays a status bar.  This required
   adding new client side prediction code for spectators and working and some changes in view presentation
   for spectators.  Although DarkPlaces doesn't strictly support spectators, it is possible to get spectator
   status in DarkPlaces if no live player slots are available on a server.  A manual way to force this in DarkPlaces
   is "setinfo spectator 1; connect 72.83.103.37:27504".
   Zircon supports "join 72.83.103.37:27504" and "observe 72.83.103.37:27504" and "join" "observe" in-game commands.
   These commands work additionally because Zircon reports the required z_ext for live switching from spectator to join.
   
3. cl_chatmode - When in a multiplayer game, text typed in the console will chat in-game if it isn't a known command/cvar/alias (cl_chatmode 0 is disable).

4. Quakeworld "serverinfo" cmd.

5. Hardened against trying to record a Quakeworld demo, DarkPlaces doesn't support recording them or playing them.  
   Also fixed a infokey NULL pointer scenario that shouldn't happen, but somehow I encountered it during a server network handshake gone wrong.

NON-ISSUE:	Issue with water jump and Quakeworld that also affected ezQuake.
			Freewill, who runs the "Let's QW Coop" server says is MVDSV server bug.

// Zircon Beta Release 20

1. Server browser phase (4.1) - tiebreaker bias cvar: net_slist_tiebreaker defaults to "coop,crx,ffa @,ffa"
   
   The effect of this tiebreaker system is that in a list of 700 servers, this push servers with those words
   to near the top of the list for the default sort.

2. Using the maps menu puts "map dust // A Dusty Place" in the console history instead of just "map dust".

3. Quakeworld colored text support.  

  The console print messages are on-the-fly translated to the DarkPlaces color
   method.  This allows red or blue or other colored text to correctly display when connected to a Quakeworld
   server that uses it.

4. Better support for Quakeworld "join" and "observe" including an extension to support live switching.

   > join 72.83.103.37:27504 // You will connect to the Quakeworld server as a player
   > observe 72.83.103.37:27504 // You will connect to the Quakeworld server as a spectator ghost
   > join --> You will enter the game if you were a spectator
   > observe -> You will leave the game if you were a spectator

5. Server browser: DarkPlaces and Quakeworld servers are queried and rolled together.

6. Added the Quakeworld "userinfo" command.

TODO: CF_PERSISTENT does nothing!
TODO: Shorten the 2 sec ALT-ENTER delay -- determine when it is too early in map load for ALT-ENTER by engine state

// Zircon Beta Release 19	

1. Server browser (phase 4) implementation.  The server browser is sortable by clicking
   "player" or "pings" and can be sorted ascending or descending.
   
2. Server browsers shows player names and their scores and shirt/pants color.  Thanks to Spoike author of FTEQW 
   for having code that parses the player data segment so I could examine it and learn.

3. Server browser:  clicking a server selects it.  Double clicking connects to it.  This allows more meaningful
   interaction with the server list, especially now that it shows players on the server and their scores.

4. Windows key re-enabled, previously it was suppressed.  It was disabled early in Zircon Beta due to a stuck keys 
   issue with DarkPlaces Beta.  The stuck keys issue has long been resolved.  (AllowWindowsShortcutKeys)
   
5. Menu navigation consistency everywhere: the up and down arrow wrap around on every menu that isn't 
	maps list or server list.
  
6. Fixed a DarkPlaces Beta issue parsing Quakeworld map names from master server (needed to search for a newline character and terminate the string
   there, then save the pointer for the players segment).  The bug would sometimes show map -> "dm4 0 33 3".
   
7. Hardened the alias model (Quake .mdl) loader against some unknown .mdl variant format that DarkPlaces
   interprets as having -1838383 frame groups (netquakeworld.chickenkiller.com server), which explodes the engine.
   Zircon detects this invalid framegroups scenario and will refuse model load unloadable, 
   likely giving it the standard DarkPlaces missing model treatment.

   Whatever "player_sleeper.mdl" is on that server, even Noesis model editor that is super Quake friendly and supports
   tons of model formats cannot open that file.  So I don't know what that .mdl is or how one examines it.
   
8. Fixed oversight in deterministic server sorting.  Was using name for the unique key, not "cname" which is the unique key.
   
   DarkPlaces/Zircon live load the server list.   Determistic sorting means that there are "no ties" when sorting
   the list of servers, which prevents the list from randomly re-ordering some entries as they fill in (bouncing around
   all over the place).
   
   For Zircon, this matters more because you can navigate the list confidently while the list is updating because
   Zircon locks the cursor to the entry.

9. Menu total quality management --> refined LAN config menu and so other less used menus that had small issues
   and fixed "Begin Game" menu to be more pleasing to the eye instead of having text print over the menu sidebar.

// Zircon Beta Release 18

1. DarkPlaces was tilting the view when a spectator in Quakeworld, so you would see things sideways.
   This is because as a spectator your health < 0 so DarkPlaces thinks you are dead.
   Fixed by also checking for spectator status.

2. Tuned chunked downloads settings and prints.

3. Fixed: Previous version broke non-chunked downloads by writing the file to wrong path.   

4. Documented some "magic numbers" in the code.  DarkPlaces was checking for health of -666 and -2342.  So what
   are those?  DarkPlaces placed a high value on Nexuiz, DPMod, Transfusion back in the day.  Turns out those
   are magic health values in Nexuiz for observers and intermission.
   
   And adjusted the code to only check for those magic numbers if mode == NEXUIZ derived.
   
   This could prevent a future rare/weird where if you are dead and happen to be dead with
   a "magic number" quantity of health, the display is different.

5. Zircon now reports as "Zircon" in setinfo.  Previously it reported as "dp".

6. When connected to a server, pressing TAB will display the map name plus title. "map: map title".
   This keeps the traditional Quake behavior when playing single player of just saying "Introduction"
   however when connected to a server, sometimes one wonders "What map is this?".
   Sure you can type "map" or "status", but just pressing TAB is easier.
   In single player, you always know what you are playing.

TODO: Turn some cvars into commands.  There are many things that are annoying if they get reset on gamedir change
and do not fall into any traditional settings category.  This is more obvious when using Quakeworld server as
the gamedir may change, which DarkPlaces will reset many cvars.

TODO: I don't trust what happens when a server changes map and a map is downloading in the non-chunked downloads
method.  I also don't trust when this happens for chunked downloads, although they tend to occur fast enough that
this rarely happens.  Maybe both of these are fine, but these scenarios need checked.

// Zircon Beta Release 17

1. FTE chunked downloads when connecting to Quakeworld servers.  It can be ten times faster.
   Also added client support for FTE 256 visible entities (vanilla Quakeworld is 64 visible entities).
2. Menu server list is re-entrant.
3. Server list sorting is now deterministic sorting (means there are no ties when sorting, prevents server entries
   with identical sort criteria from bouncing around randomly .. the super-key is the server connection address).
4. Server list default sort is largest number of players, descending. 
5. Submitting a command in the console will remove console backscroll.  I knew there was something
   not "quite right" with the console backscroll sometimes but couldn't determine what it was.  That being said
   submitting a command and not eliminating console backscroll was likely a deliberate choice by DarkPlaces.

There are several supporting cvars like cl_pext, cl_chunksperframe, cl_pext_chunkeddownloads, 
cl_pext_qw_256packetentities, developer_qw that can turn stuff off or print messages.

// Zircon Beta Release 16

1. In DarkPlaces, CTRL plus '-' shrinks console text size, CTRL plus '+' increases console text size and
   CTRL plus '0' resets it, similar to the zoom keys in FireFox/Chrome.  Ctrl plus '+' was not working
   because '+' is not a key (it is '=').  Fixed.
2. Adjusted ALT-ENTER support to always allow when no map is loaded.
3. "loadfont" autocompletes first parameter.
4. Console was not drawing during map download when connected to server.  Fixed.
5. cl_movement defaults 1
6. Server browser improvements.  Phase 1.
7. zircon_history.txt is now in the folder with the .exe, no more per gamedir history.
8. Console displays while a download is occurring.

// Zircon Beta Release 15 - December 5 2023

1. Support for protocol 666 and 999 that Quakespasm and related engines use.  This means that
   Zircon can play Quakespasm demos and connect to a coop game hosted by Quakespasm.
   
   Zircon can play single player using protocol 666 or 999 or host games in protocol 666 and 999,
   but that typical DarkPlaces potential differences would still apply because of the subtle 
   differences in DarkPlaces physics and interpretation of Quake and related factors.

2. cl_startdemos 0 to not play demos mirroring Quakespasm (previously cvar name was nostartdemos).

3. Dedicated server (zircon_beta.exe -dedicated 8) now supports the shift key and CTRL-V pasting.

4. Resolved an issue with external texture loading for .mdl and probably other formats.  It was a
   bug introduced in Beta #4 that improved external texture loading for maps, but changed 
   external texture loading enough that replacement textures for .mdl and others were affected.
   
5. Disallowed ALT-ENTER during map loading phase, complications can arise from only partially
	loading a model and then reloading its content.

6. Con_Print "Using external lightmaps" for Quake 3 map format is restored to requiring "developer_loading 1"
   which was the DarkPlaces classic behavior.  External lightmaps is somewhat normal for the Quake 3 map format
   depending on the compiler options used and it didn't print in classic DarkPlaces and having it print suggests 
   something out of the usual is occurring.

7. As a past precaution, entering the menu released all keys to ensure no keyboard keys could be stuck.
   The issue with stuck keys in DarkPlaces Beta was fixed in Zircon several versions ago and entering the
   menu no longer releases key ups (since the bug no longer exists).

MINOR: zircon_beta_gcc.exe (but not zircon_beta.exe) as server oddness with letting classic clients connect. 
MINOR: DarkPlaces Beta bug .. the player setup menu, the colors of the image do not change.  
TODO: Lan Config menu could use some "refinement".
TODO: Floating island Quake Remaster investigation.

// Zircon Beta Release 10 - November 26 2023
	
I don't feel this is hardened enough yet to release a binary.  Close but more needs to be done.

1. Client side support for protocol 666 and 999.  Demos recorded with either of those protocols
   in a compliant engine like Quakespasm should play back in Zircon.
   
   The server side support for 666/999 is incomplete and --- although that will probably happen
   -- that isn't the end game here.  The end game is something else.
   
   It is likely that Zircon can coop when connected to a 666/999 compliant engine like Quakespasm,
   although more testing is required.
   
2. sv_protocolname autocompletes
3. zircon_beta_gcc.exe -- for reasons unclear -- neither shows up in LAN slist for regular Quake clients nor allows connections
   for regular Quake clients (but other DarkPlaces clients work ok and it shows for them).
   This is a bizarre puzzle.
   DarkPlaces clients do not have "test" and "test2" ... ?  Rainy day todo?
4. disconnect and stopdemo clear pausedemo state.
5. Noticed that startdemos resume upon disconnect from a server or "stopdemo".
   Resolved.

// Zircon Beta Release 9 - November 26 2023
1. Implemented DarkPlaces Classic method of rendering csqc 3d polygons
   as the DarkPlaces Beta method, although it allows shaders, is incompatible
   with DarkPlaces Classic R_BeginPolygon in 3D space.
   TODO: Cvar control to decide method?

2. AMD + Windows force gl_texturecompression_color to 0 to workaround driver bug (DarkPlaces Beta).
3. Fix for Zircon Galaxy detection
4. Better clearing on window creation (DarkPlaces Beta), may help odd effect I saw on Linux, plus
   fix of gl context leak.
5. Display (disconnected) in map menu if no map active


// Zircon Beta Release 8 - November 24 2023

1. Upgraded the SDL2 version zircon_beta_gcc.exe, which seems to resolve vid_restart weirdness.
   Q: Does it resolve jakub1 sound weirdness?
2. Fixed zircon_beta_gcc.exe odd behavior with vid_restart by upgrading the SDL2 library version.
3. "cvarlist changed" will list changed cvars.  The "changed" autocompletes.
4. Fixed Linux sv-release compile.
5. Fixed "name" command on client did not update on server.  Issue was inherited from DarkPlaces Beta.
6. "sv_gameplayfix_fiendjumpfix 1" -- the fiend and dog jump fix from DarkPlaces Beta.
7. Added fte_extensions.qc to dpdefs folder in source code.  fte's documentation for some QuakeC functions is
   invaluable.
8. Multiplayer -> Join Game and Multiplayer -> New Game show local ipv4 (like 192.168.0.3) and ipv6 addresses in menu.

// Zircon Beta Release 7 - November 23 2023

1. Video menu reworked and includes "Always force desktop resolution" ON/OFF, and rewired to make sure
   that classic video mode returns to the correct menu that entered it.
   
2. Fixed effects menu not allowing last item to be selected by keyboard.

3. Video menu will never offer video modes greater than what SDL2 reports as the desktop resolution.
   This was added because I noticed getting offered large video modes that I don't believe are supported.
   
4.  writeconfig_all <configname> writes all cvars to a file.
	writeconfig_all_changed <configname> writes all cvars that are not set to their default value to config

5.  vid_width, vid_height, vid_fullscreen updated before write to config.cfg.  Those cvars can have stale
    values often from using the video menu but not submitting the change or by other means.
    
6.  During load a config file, messages saying "command gamma not found" will not occur.

7.  "game" or "gamedir" specifying an existing empty folder works.  If the user created a folder
    and it happens to be empty, they should be able to use that as a gamedir without the engine
    denying them because there are no files in that folder.
    
8.  If you startup DarkPlaces and type "gamedir" it says "gamedirs active: "
    I have altered this to 
    
// Zircon Beta Release 6 - November 20 2023

1. Linux with GCC 9.3 now compiles, so the Linux compile should be pretty easy.
2. Linux dedicated server build is now functional "make sv-release"
3. Server browser was not showing gamename and map column.  It does now.
4. Connecting to a server in the server browser adds it the console history.

   So for instance, you can press up in console and get
   
   connect "47.190.124.73:26001" // PART1CL3.NET_COOP
   
   Notice how the console history recall even has the server name!
   
5. utf8_enable was allowing selection of text using shift.  It wasn't supposed to.
   Currently text selection does not work correctly with utf8 (or color codes like ^5)
   and utf8 was not supposed to allow text selection.  Addressed.
   
6. "reconnect" -- the command that occurs on the client when a server changes map
   was showing flashing console on-screen (ugly) *only* when the server was remote
   (like your ping is 30 or higher).  "reconnect" now does not show console
   during loading. (Follow up: Should it be timeout proofed to X seconds in the event
   there is trouble connecting or lag or that even an issue here?)  

7. Incorporated Doombringer DarkPlaces SV_SpawnServer logic that looks like it sends the
   reconnect to client at a more appropriate time during map change and everything still
   seems to work ok.

Punt: r_speeds 1 display looks unorganized.  Thought about tidying it up.  Going to
kick the can on that.

// Zircon Beta Release 5 - November 16 2023

1. Added r_waterwarp (winquake underwater effect) / r_waterdeform (twist water) to effects menu.
2. edicts [field name] [value] will find entities with that field equal to the value.

	Example:  edicts classname player --> this will find anything with a classname containing player
	          edicts model grenade --> this will find anything with a model that contains "grenade"
	          edicts mod gren --> this will check any field with "mod" in the name and return
	                               results with "gren" in the name.
	                               
    So yeah, it actually uses string partials for fieldname and value.
    
    edicts with 1 argument searches for classname.

3.  Eliminated 2 instances of console drawing for a single frame.
    First was on startup, the first frame seems to always draw the console (not any more!)
    Second was on new map (not any more!).

// Zircon Beta Release 4 - November 16 2023

1. Rewrote part of texture loader to more resemble DarkPlaces classic while keeping the intent
   of the changes in DarkPlaces Beta.
   
   This fixed texture scaling with "tcmod scale" with Quake_Rivarez_Ed_v1.0.1.
   And should fully fix "textures/[mapname]/[yourtexture].tga"
   
   And hopefully will fully address water and animated issues that previously existed.
   
   I don't conveniently have test cases for all of this, so not fully tested.
   
2. "infobar 5 your_message" sort of centerprints excepts as a subtitle.
   The timing of this was wrong, corrected (it was displaying half the appropriate time).
   
   NEW:  Since it is basically a different kind of centerprint, I have it log to console.
   
   To disable logging to console: "con_logcenterprint 0"
   
3. KleskBY likes "sv_gameplayfix_nogravityonground 1" because modern games don't have the player
   slide down slopes and such.  However it didn't "work".  Or rather how it works was documented.
   "sv_gameplayfix_nogravityonground 1" requires "sv_gameplayfix_downtracesupportsongroundflag 1"
   to function right with Quake.  Added to documentation of sv_gameplayfix_nogravityonground cvar.

4. TODO: Slight console flash during loading.


// Zircon Beta Release 3

1. 2020 XMas Jam map shades has .mdl using fence texture flag (16384).  The engine was processing
   the skin as transparent, but not rendering as transparent.  Fixed.
   
2. tool_marker "-36 25 244" -- will draw a topmost red marker where that location is. 

3. Theoretically fixed Replacement textures in "textures/yourmaps/cop3_4.tga" failing to work.
   This issue was inherited from DarkPlaces Beta.  A decent chance I have it fully resolved.

   CAVEAT: I don't have anything to really test this out.  I have a single texture test
   from Jakub1.  Map specific replacement textures that collide with another texture map
   are somewhat uncommon and I don't have one available for some more thorough testing.
   
   TODO: See if can improve upon solution for weird untested corner cases no one will likely
   ever encounter, but I have an awareness that the texture load process in DarkPlaces Beta is
   not directly equivalent to classic DarkPlaces.  This lack of equivalence may be involved in
   some weird tcmod scale issues I have seen that have no cause I have been able to locate yet.

// Zircon Beta Release 2

1. Use /MT as Visual Studio compiler option.  This embeds the .exe with some dependencies
   and reduces the need to download Visual Studio Run-times and such, which KleskBY
   says applies to Windows 7 and can apply in other cirumstances.

2. sv_gameplayfix_nudgeoutofsolid was defaulting 1, it is now correctly defaulting 0.
   We are using DarkPlaces classic physics in Zircon (DarkPlaces 2014 physics).  This
   artifact from new DarkPlaces physics wasn't removed.  Additionally: csqc 
   droptofloor mirrors old logic, this was on a TODO before and is now completed.

3174. "setpos" command.  Set origin and angles, for debugging. 

106b. "tool_inspector 1" -- entities are now sorted.

// Zircon Major Features

0000. Mouse driven menu
0001. ALT-ENTER support to switch from fullscreen to windowed mode.
0002. Key setup streamlined order, elimination of "???" for unbound keys.
0003. Thin console cursor, no cursor overwrite mode.
0004. Ctrl + Up, Ctrl + Down adjust size the console like JoeQuake.
0005. Crisp 2D autoscale based on 360 pixels of height (720 height is 2x magnification) with user customization possible.
0006. LodePNG used for PNG loading.
0007. Full auto-completion including SHIFT-TAB support and CTRL-SPACE autocomplete from nothing.
      Autcomplete is context sensitive and even autocompletes skybox names.
0008. Cut, copy, paste, select text and undo (CTRL-Z undo, SHIFT-CTRL-Z for redo) in the console.

	  (* does not support color codes or UTF-8 at this time and will disable selecting text automatically
	  while those characters are present.)

0009. Will attempt to use -data directory if id1 folder not found and no -game specified.

0061. DarkPlaces 2014 physics. Reverting to what I hope is traditional DarkPlaces 2014 engine physics which is what mods targeting DarkPlaces
      from 2014 for traditional DarkPlaces physics.  New DarkPlaces physics had immediate issue with Quake Combat+ on E1M1 (a soldier falls 
      through floor) and some Alkaline map printing droptofloor issues (one would naturally assume that
      in Quakespasm does not do this).  DarkPlaces 2014 physics do have issues with classic Quake occasionally, a great 
      example is E4M7 zombies above water after killing the zombies below water in the start of the map, but this does allow Zircon
      DarkPlaces Beta to correctly play mods made for DarkPlaces like Quake Combat+.
0070. "record" a demo at any time.  This feature is AFAIK not legitimately possible in DarkPlaces, some evil
      some evil occurs to make it happen.
0071. Maps menu (replaces Main->Help and Ordering) (pk3 containing menu replacements elements available in zip)
0072. Maps menu selected maps are added to console history for recall/reload with uparrow.
0073. Maps menu shows current map
0074. Maps menu is reentrant (selecting a map and then entering the menu will return you to the map menu
      with the most recently selected map still selected).
0081. Quake Remaster status bar option (sbar_quake 2) and original Quake status bar option (sbar_quake 1).
0082. r_waterwarp 2 twisty underwater effect.
0083. r_waterdeform 1 WinQuake-like water/slime deformation.  r_waterdeform 2, lava and teleporters too.
0084. BloodOmnicide DarkPlaces "roundwave" and "bulge" shader deformation support
0085. FitzQuake noclipping (sv_altnoclipmove 1 defaults on).
0086. OBJ maps are first class citizens for "maps" and maps menu (which replaces help/ordering).
      Kleskby makes maps in obj in Blender and DarkPlaces Beta supports them.
      You can also turn a model (like start.bsp) into obj with DarkPlaces "modeldecompile" command like
      "modeldecompile maps/start.bsp".  
      "modeldecompile" has autocomplete listing Q1 models.
0087. Fence texture model support for Q1 .mdl. (xmas jam 2020 shades map trees was test case)
0088. Status bar some portions reworked, particularly with +showscores held.
0089. Intel Graphics cards that report "No errors." on shader compile no longer spam console as if shader compile error occurred.
0090. "freezeall" command to stop "time" except for the player.  This toggles a cvar with a long name that already exists.
      And we reset sv_freezenonclients on new map (SV_SpawnServer) so it doesn't do strange stuff and removed the CF_NOTIFY so
      using this isn't spamming the console.
0091. Effects level in menu that allows easy setting of effects level (modelled after Xonotic's effects levels)
0092. "con_closeontoggleconsole 4" -- exact Quake behavior of tilde key where it NEVER emits to console under any circumstance.
      If you are used to Quake behavior it is highly annoying if the console is forced and you press tilde from habit
      but the console cannot be closed and get a surprise "backquote" character typed in the console.
      (Why do we call this the tilde key, but backquote is the unshifted?)
      
	  If you enjoy typing backquotes in the console, try con_closeontoggleconsole 0 to 3.
	  
	  "con_closeontoggleconsole 0" is the DarkPlaces default.
	  
0093. r_editlights_select_index, for use by r_editlights.  Allows selecting a specific light by the light #.
      Can make the creation and editing of rtlights files more convenient. r_editlights_edit parameters
      auto-complete as well.
      
0100. MAJOR MAP LOAD SPEEDUP FOR LARGE MAPS.  Mod_BSP_MakePortals only performed for Q1 and Q3 maps without vis data or when "r_novis 1".  Faster map load times by
      not generating data that will not be used for a map with vis data, which is most maps.
      This significantly reduces load times for large maps.  Set "mod_bsp_portalize 2" to force.
0101. csqc_enable cvar, defaults 1.  Ability to turn off csqc.  Requires map restart.
	  Any Quake single player mod that can run on vanilla Quakespasm, this is likely fine.
	  Other situations, it may work or may totally break the mod (Quake Combat+, for instance).
0102. Sound specification retry with lower specs on sound initialization failure (adapted from snd_main.c in classic DarkPlaces).      
	  Quake_Rivarez_Ed_v1.0.1 tends to cause this scenario, asking for 8 sound channels.
0103. Server browser more legible, more conservative, easier to read
0104. All sv_allowdownloads (that seem helpful) default on [more testing needed].  
	  Hardcoded disallow of "registered Quake paks" has been removed, this checked pop.lmp
	  which might exist in any total conversion mod.
	  
	  (the open source X-Men Ravages of Apocalypse has a pop.lmp, for instance).
0105. Uses Classic DarkPlaces lightning gun bolt.
0106. tool_inspector - examine entities visually in-game
0107. Optional separation of csqc rendering and the rendering of 2D elements (console, menu, etc.)

	  This only occurs with	csqc_full_width_height 1.  vid_conwidth/vid_height are set as indicated for each phase.
	  
	  csqc can get the entire vid_width, vid_height and the menu can use a separate scaled canvas.

0108. Slow loading mods automatically get a progress bar.  Grace period 1.5 seconds.
      The effective result is that normal use of Quake never displays a progress bar.
      However, if for some reason loading is slow (huge textures, tons of models, some other reason)
      the 1.5 second mark is hit and the progress bar shows. 
      
      This is to avoid the feel of "nothing is happening" while largely never showing a progress bar
      by default.
      
// Single player compatibility with Quake

1001. Standard Quake file paths for loading/saving on Windows and Mac (-nohome, Linux we will do DarkPlaces way).
1002. Standard Quake behavior for Q1BSP maps with no light data -- all entities in map render fullbright.  DarkPlaces beta differs from Quake and old DarkPlaces (div0-stable)
1003. Standard Quake behavior for "map", "kill", etc. which close the console in Quake.  Full list: map, load <game>, restart, changelevel, connect, reconnect, kill.
1004. Standard Quake appearance of bronzed characters (not yellow).
1081. Standard Quake appearance of status bar as an option (status bar backtile option)
1082. Standard Quake appearance of status bar/scoreboard, displaying total secrets, total monsters even if zero 
1083. "edict" and "edicts" (also "csedict" and "csedicts") commands.  
      "edict" and "edicts" are commands in standard Quake.

// Single player compatibility with Quakespasm (FitzQuake 0.85) norms

1201. "r_skyfog"    fog that looks like FitzQuake/Quakespasm which is defaulting fog alpha to 0.5 (r_skyfog value) if fog is not specified in map fogkey
1202. "map"         command with no params says map name.  This is a behavior in Quakespasm and most modern Quake engines have this feature.
1203. "game"        console command, same behavior as gamedir.
1210. shot1sid shotgun shells texture fix, in most Quake engines since 2000 (look at shotgun shells on DM3 bridge)
1211. 64-bit lightmap fix from Quakespasm
1241. Max save games in save game menu to 20 mirroring other engines.
1242. "sky"			Same as loadsky, this is the expected command and QuakeC that was not tested against DarkPlaces
	  will almost certainly use "sky" to change the skybox in a Quake single player release.
1243. "writeconfig" alias for "saveconfig"
1244. FitzQuake explicit cheat commands and give armor (god, noclip, fly, notarget) 
		"god 1" // Turn on god mode
		"god 0" // Turn off god mode
1245. FitzQuake give armor "give a 200"
1246. FitzQuake "inc", "dec" commands "inc x 5" or "dec x"
1247. "external_lits" cvar to allow option of not loading of colored light data.

1301. Disconnect automatically when "game" / "gamedir" used if not disconnected.

// Single player convenience

1401. sv_cheats defaults 1.
1402. Reset menu cursors on gamedir change
1403. log_file_stripcolors defaults 1 for more readable console .log file.
1411. "saveconfig" takes an argument so "saveconfig mine" is possible.
1412. animated texture warning is now a developer print, this occurs quake start.bsp
      Texture +0slipbot is animated (leading +) but has only one frame
1413. Disabled Windows keys.
1414. Automatic unload of "fte csqc-lite" csprogs.dat allowing convenient play of these mods (see alk1.2.zip @ Quaddicted)
      This is an alternate CSQC that FTE/Quakespasm Spiked supports.
1421. FitzQuake centerprint logging ("This hallway selects EASY skill" prints to console, some maps have important centerprint messages)
1451. Less spam of clutter to console.
1461. Eliminated message for missing beam.mdl, this is a virtually non-existent model no other engine precaches or warns about.
      And any mod that actually uses it should precache it in QuakeC.  It is for TE_BEAM, a grappling hook effect.
1462. Progress bar maxfps to 10 from 20 mirroring DarkPlaces classic.  The less this is on-screen, the faster content loads.
1471. "maps" command only lists playable maps (info_player_start, info_player_deathmatch found).   This may not be compatible with
      Xonotic / Quake3 /  mods that do not use those entity types.  Additionally, a md3 content replacement healthbox with a .bsp
      extension is known to evade this filter and get printed (due to not falling into a BSP type).
1481. Reduced message "spam" for ALT-ENTER and other frequent situations
1482. ALT-ENTER with vid_desktopfullscreen (the default) uses 75% width/height for windowed mode automatically.
1483. vid_resizable defaults 1.
1484. -nehahra creates r_waterripple, r_oldsky, stopmod to prevent seeing missing cvar/command messages during play.
1485. Write history file on gamedir change during session.  DarkPlaces saves history file to current gamedir and
      this closes a "missing history" loophole.
1486. History lines are always trimmed of trailing spaces, back-to-back same lines are not recorded to history.
1487. Crosshair settings added to classic menu.
1488. "r_viewmodel_ring_alpha 0.4" available to make gun translucent during invisibility 
	  instead of entirely hiding it.  Works well with gl_polyblend 0 (which eliminates invisibility screen darkening effect).
1489. "r_viewmodel_offset 5" available to make gun offset to side.
1490. "r_minlight 3.5" option -- minimum lighting allowed on models, purpose is to make monsters/players
      more visible in poorly lit areas for more enjoyable play.  
      
      Unlike DarkPlaces, this defaults to 0.5 which means monsters in total darkness are slightly lit.
      
      To disable this, do "r_minlight 0"

// New commands / cvars

3101. "copy" copies console to clipboard, "copy ents" copies map entities to clipboard.
3102. "folder" command -- opens gamedir folder in file explorer.  "folder maps" would open the maps folder.
3103. "pwd" command - prints current directory ("pwd" is a Unix command that shows current directory) 
3171. "pos" command - prints current position, copies it to clipboard.
3172. "nostartdemos" cvar - set to 1 and they do not start.
3173. "cvar_reset"

// Performance

5001. Laptop friendly default cl_maxfps 144 (not 0 unlimited).  Laptops have 90% of personal computer marketshare.
      Laptops have a battery and laptops have small cooling fans.  Rendering at 800 fps for no particular reason is
      is not nice to a laptop battery and it is not nice to a laptop cooling fan.

5002. cl_prydoncursor_notrace defaults 1 (off).  This does not need to run every frame.  I know of no mod aside from Prydon Gate that uses it.

// Developer

7001. freetype.dll that is friendly with Visual Studio 2022 and does not cause exception with ntdll.dll
7002. Baker.h - tons of functions (file system, string, matrix, etc.)
7003. csqc_full_width_height 1 will set vid_conwidth/vid_conheight to entire client area (like vid.width/vid.height) during csqc phase and then change it back
7004. cvar if (cvar(csqc_full_width_height_available)) is a way for csqc to check for this.  Todo: check extension instead?
7061. "modeldecompile" commmand (writes a model as .obj) converts * (asterisk) to _ (underscore) for sub-models so that they
      can be written to file on Windows which will not allow asterisks in a filename.
7062. textures/particles/lightning -> particles/lightning .. this is a change but all particle gfx live in particles folder 
      and it is silly to have 1 file related to particles living in a weird place as the only member of its folder.
7063. r_listmaptextures [optional partial to find] like "r_listmaptextures water"
7081. showtex 1 displays only texture information, showtex 2 displays texture information and entity
7082. showpos and showangles cvars.
7083. showfps -1 shows fps in top right corner of screen where most other engines display frames per second
7084. prvm_sv_gamecommands, prvm_sv_progfields, prvm_cl_gamecommands, prvm_cl_progfields, prvm_menu_gamecommands
		These assist autocompletion with gamecommand extension.

		Strike prvm_menu_gamecommands, there is no CF_MENU and I'm not testing against menu qc
		at this time anyway ... future TODO
		
7101.  "edicts" with classname, targetname filter ability
			> edicts targetname t18  ... prints edicts with targetname containing "t18"
			> edicts info_player	 ... prints edicts with classname containing "info_player"
			 
7102.	"Failed to load sound" has been changed from a Con_Print (prints to console) to a DPrint
		(prints to console if "developer 1") for identical behavior to DarkPlaces classic.
		Mods may use a null.wav for a sound that they don't want or as a placeholder, and mods
		that did this had the expectation it wouldn't print to console. 			 

7103.	Autocomplete support "sv_cmd" and "cl_cmd" console commands (this is DarkPlaces 
		"gamecommand" extension).  The QuakeC can set prvm_cl_gamecommands or prvm_sv_gamecommands
		to a space delimited list like "sv_cmd volcano rain snow", the engine will offer 
		rain, snow, volcano as autocompletes for sv_cmd.

7104.	r_editlights_dlight_bake - combined with a QuakeC tool, this assists in relocating
        Quake 3 dynamic lights generation to a rtlights file in the expected location.
		
7105.	"jack_scripts" -- a tool to make a copy of Q3 shaders with things that J.A.C.K. map editor 
		doesn't understand.
        The J.A.C.K. map editor has "blocking" warning messages, so if there are hundreds of warnings
        saying it does not recognize shader command "dpoffset" or such, it can delay startup by a fraction
        of a second times 500, which can total a minute or 2 and is very annoying.
        The output is the "_jack_scripts" folder.
        It also updates scripts/shaderlist.txt
        		
// Zircon

8001. "zircon_command_line.txt" support.  If file exists in .exe folder it contains command line params like "-game travail +map start -condebug" and if engine is started with no command line parameters, these are used
8002. Zircon console name - including build name
8003. Zircon changes the progress bar color default from blue to gray.
8011. Removed progs/v_nail2.mdl from r_nolerp list to mirror Zircon
8012. Removed deathmatch mini-overlay
8013. r_nearest_2d and r_nearest_conchars default 1.  r_nearest_conchars cvar updates texture in real-time.
8081. Demo playback does not capture mouse cursor.
8082. scr_loadingscreen_barheight defaults 0 (previous value was 8), added it as a menu setting.
      (The loading bar reduces the immersion into the game for me.  It looks great for Quake 3 style.)
8083. showfps only displays a framerate if fully connected cls.signon == SIGNONS_4
8084. crosshair color defaults to gray (previously red)
8085. "scr_clock" ProQuake looking clock option 0/1, shows level time in status bar
8086. showfps never displays in red
8087. Cvars that DarkPlaces Beta prefixed with cl_ while maintaining aliases (showtex, etc.) have had their cl_ form removed to
      reduce cvar and that it seems unlikely there is someone who likes to type more to access a previously existing cvar especially if the alias exists.
      The namespace of cvars beginning with cl_ is already heavily populated.
8088. Removal of the new "timescale" alias, a cvar alias for host_timescale.
      There is no need for aliases for an uncommonly used cvar that already a standardized name.
      host_timescale is the name by used other Quake engines and the Valve source engine.
8089. sbar_scorerank and sbar_gametime game time removed.
8090. sbar_showprotocol (defaults 1) shows server protocol discretely if +showscores active and playing connected to a server.
8191. Server to client communication of single player skill level (nightmare, easy) in a way that is ignored by DarkPlaces or regular Quake clients.
8192. "cl_maxconsole_menu_fps" (defaults 72)  when not hosting a multiplayer game, frame rate is throttled when 
		in the console or menu.  DarkPlaces already throttles when not the active window, this closes a loophole
		where another situation where runaway frames per second can occur with no benefit to the user.
8193. cl_rate default increased to 9 999 999, reduce time waiting for models/maps to download.

// DarkPlaces Bug Fixes

9001. viewzoom CL default fix.  Avoids zoom effect on the start of every Quake map by reseting cl viewzoom field.
9002. DarkPlaces Beta gamedir switch crash bug-fix.  This has a few different pieces.  Rewrote hash unlinking code.
      In total, 3 or 4 separate areas were gamedir change affected cvars negatively were addressed.
      I believe that it is entirely fixed in full now, but I am going to keep an eye on this.

9003. Clear models/sounds as stale on gamedir change, they aren't valid any more -- avoid errors/issues with wrong content and stale data
9004. Fire Key release on ALT-TAB or minimize (if holding +forward and then ALT-TAB at same time, you will walk forward forever in current dpbeta on Windows)
9005. Quakespasm's Windows DPI awareness trick, fixes menu placement and other 2D elements when Windows scaling is not set to 100% but a higher value like 125% or 150%
9006. Kleskby ALT-TAB fix for certain international keyboards. (I'm not sure it belongs in CL_UpdateScreen though ... the important part is that it works ...)
9007. Maps of type .obj did not have loadmodel->lit set.  It is true that .obj does not have lighting, but should act as if it does
      so that DarkPlaces dynamic lighting or other methods can light the map.
9008. Q3 lightstyle support for world (Hemebond pointed this out on DarkPlaces Github), adapting what 
      classic DarkPlaces does to the DarkPlaces Beta rendering scheme.
9011. DarkPlaces Beta was only loading the first q1bsp sky.  Successive map changes, a q1bsp sky was always ignored so as a result E1M1 would have a purple start map sky instead of a blue sky.
9012. More ALT-TAB key release hardening and made in_releaseall clear kbutton structs.
9061. DarkPlaces Beta gamedir switch crash had 2 more factors.  Resolved.  Also rewrote the hash unlink code (although it does not zfree the hash, should it?  DarkPlaces Beta doesn't.)
9062. Clear models/sounds was partially ineffective due to new DarkPlaces Beta different order of events, fixed.
9063. (FIXED, BUT POSSIBLY NOT THE RIGHT FIX).  Quake Combat+ map E1M2 bridge, DarkPlaces Beta shows blue light and DarkPlaces classic does not.  The .rtlights file
      has negative rgb values for some colors (3.540270 -0.000000 -2.528764).  Zircon DarkPlaces Beta clamps the RGB values on
      read to a minimum of 0.  However, this cures only the effects of a yet identified difference, the root cause has not
      yet been identified.
9064. Fixed -> Real-time light editor display unaligned and the end of color data spanned beyond the box.
9065. cmd.c -> Baker r9065: a theoretical physics correction (probably.  I know of no way to mass test to prove or disprove)
        .. sv_gameplayfix_droptofloorstartsolid 1 for Quake instead of sv_gameplayfix_droptofloorstartsolid 0.  Testing various versions of DarkPlaces, this change was introduced
        in 2012 at some point, if I recall (I investigated this thoroughly at the time comparing source codes of DarkPlaces 
        of making this change in Zircon classic).  I used a map "cdestroy" which had always played ok in DarkPlaces which
        has rotweilers outside the first door.  At some point, these rotweilers no longer dropped to floor correctly.  I identified the
        first version where this occurred and the change that occurred.  I have so far seen no counter-indications and have
        seen incorrect behavior that this has resolved on multiple maps.
9066. gl_texturemode is reset on gamedir change.  Quake 1.5 causes a problem setting this to something else (nearest?) making
      the console conchars all jagged.  gl_texturemode is not a cvar, therefore it does reset on gamedir change, this is done manually in cmd.c.
      I would file this as a mild bug since gamedir change is supposed to reset everything.
9067.  (IMPLEMENTED BUT DISABLED, HOPEFULLY NOT NECESSARY) This bug seems to be a non-issue in DarkPlaces Beta for reasons I have not yet identified.
	   DarkPlaces supports the server precaching models and sounds after start of a map.  However, on loadgame 
       single player client, entities using these precached models only get the "standard QuakeC" precache list.

		(NON-ISSUE) ?  DarkPlaces Beta handles many things differently including network.  It is possible that
		DarkPlaces closed a loophole somewhere in the order of events, messages or in the precache process.
		This bug is hard to produce in DarkPlaces 2014 and I can't cause it in DarkPlaces Beta at all so far.
		(TODO: Examine DarkPlaces Beta and find out what changed.  My best guess: DarkPlaces fixed the issue
		client-side, which is the correct fix.)

9068u. FIXED. DarkPlaces Beta often gets keys stuck.  Key_Event in DarkPlaces Beta used Cbuf_InsertText
       instead of Cbuf_AddText ... reversing the order of queued key events resulting in key releases
       occuring before key presses, causing keys to be permanently stuck sometimes.

Unfixed or Unverified Bugs ...

9070u. Lightmaps don't render for the first frame or 2 (sometimes).  I suspect the first couple of frames
       that they haven't uploaded yet.

9072u. UNINVESTIGATED SO FAR: I saw Linux print segfault on shutdown.  Does it still happen?  


9073u. NOT FIXED YET, BUT MITIGATED.  Quake Combat+ map E1M2 start, the shader for *water1 contains tcMod scale 0.05 0.05 which according to 
       Q3 Shader reference should decrease the size of the texture, making it repeat.  Instead, of shrinking the texture, it
       enlarges it (the opposite).  There are other tcmods in the mix tcMod stretch sin 1 .001 .05 .2 and tcMod scroll 0.016 0.01
       and it is not clear why this occurs and although this is behavior difference between DarkPlaces Beta and DarkPlaces classic,
       it is not known if this is a bug or if DarkPlaces Beta is correctly applying the shader.

       The shader text is:

*water1
	surfaceparm water
	surfaceparm nomarks
	surfaceparm trans
	deformvertexes wave 10 sin 1 1 .1 .6
	{
		blendfunc blend
		tcMod stretch sin 1 .001 .05 .2
		tcMod scale 0.05 0.05
		tcMod scroll 0.016 0.01
		animmap 18 textures/causticBr/FWATER01.png textures/causticBr/FWATER02.png textures/causticBr/FWATER03.png textures/causticBr/FWATER04.png textures/causticBr/FWATER05.png textures/causticBr/FWATER06.png textures/causticBr/FWATER07.png textures/causticBr/FWATER08.png textures/causticBr/FWATER09.png textures/causticBr/FWATER10.png textures/causticBr/FWATER11.png textures/causticBr/FWATER12.png textures/causticBr/FWATER13.png textures/causticBr/FWATER14.png textures/causticBr/FWATER15.png textures/causticBr/FWATER16.png textures/causticBr/FWATER17.png textures/causticBr/FWATER18.png textures/causticBr/FWATER19.png textures/causticBr/FWATER20.png textures/causticBr/FWATER21.png textures/causticBr/FWATER22.png textures/causticBr/FWATER23.png textures/causticBr/FWATER24.png textures/causticBr/FWATER25.png textures/causticBr/FWATER26.png textures/causticBr/FWATER27.png textures/causticBr/FWATER28.png textures/causticBr/FWATER29.png textures/causticBr/FWATER30.png textures/causticBr/FWATER31.png textures/causticBr/FWATER32.png textures/causticBr/FWATER33.png textures/causticBr/FWATER34.png textures/causticBr/FWATER35.png
	}

    Q3 Shader Reference

    tcMod scale <sScale> <tScale>
    Resizes (enlarges or shrinks) the texture coordinates bymultiplying them against the given factors of <sScale> and <tScale).
    The values "s" and "t"conform to the "x" and "y" values (respectively) as they are found in the original texture TGA. 
    The values for sScale and tScale are NOT normalized. This means that a value greater than 1.0 will increase the size of 
    thetexture. A positive value less than one will reduce the texture to a fraction of its size and 
    cause it to repeat within the same area as the original texture (Note: see clampTexCoords for ways to control this).; 


// Other

9501. vid_ignore_taskbar defaults to 1.
      The centering that occurs with taking taskbar into consideration is not center of screen.
      The off-center "center of the screen" window felt weird.

9511. Fixed vid_sdl.h so Windows get a titlebar icon consistently.  Sometimes it was there, sometimes not.

//
// Developer notes (loose notes of items of interest)
//

Self note: Ubuntu WSL -> cd /mnt/c/zircs/_zirc_qualker

TODOS:
CLAMP down on use of vid_width and vid_height cvars by internally foobaring the name a little.
 Player setup screen color change does not work.  Inherited issue from DarkPlaces Beta.
 Would like scrollbars in the scrolling menus.
 Would like to use a different autoscroll for most scrolling menus.
 Why is Quake Remastered Dimension of the Machine seem choppy at times?
 Some sort of ability for cl_cmd and sv_cmd to provide more information on the commands
 for example, if cl_cmd is supported, say the usage of cl_cmd quad2d
 DarkPlaces Beta - lit sprites do not work correctly.
 SIV load does not read custom sv_progs progs.dat ... can we get it to do that (or does it do this already?)
   We want SIV load to support alternate progs.dat capability so we have option of having
   custom progs in some maps
 DarkPlaces Beta - build with static libraries.
 DarkPlaces Beta - set basedir to current working directory if not specified
 Windows make -HOME work   
 Prydon cursor crash/speedup done in slightly incorrect way.  Fix?  (Yet does anything even use it?)
 Last time I checked, troubles loading AD Sepulcher?  Why is this not working when it worked in the past?
 When built with gcc compiler, "normal Quake" engines either can't connect or the DarkPlaces server
   does not show up in supporting server browser queries.  Find out nature of mistake.
 We build gcc with SDL 2.28 - upgrade to latest version?
 We hide the frames per second display
  (cl_maxfps.value && showfps_framerate > cl_maxfps.value * 2) .. is more appropriate way?
  DarkPlaces appears to try to interpolate monsters new in scene with their base frame.  How to fix?
    We could mark "no interpolation for 1 frame".
Implement Darkplaces Beta multi-monitor support?
Mac build
Upgrade the make file using current DarkPlaces Beta as a template?
 
QUESTIONS:
 Does video streaming for gif/jpeg work ok with odd widths like 303 which aren't a multiple of 4.
 Sometimes after running Quakespasm, Zircon video mode settings are a bit strange.  Why is that?
 We are using sound channel 9 and sending null.wav to stop sound?  Is there a better way?
 It is said that .bsp that are actually .md3 (replacement models) bypass the requirement of having
  an info_player_start and show up in the "maps list"
 UTF8 safety and string functions / autocomplete.
 Are we using the DarkPlaces Beta SDL method for saying no to Windows scaling?
 
Did we do LAN config menu?
 revive prvm_menu_gamecommands

write png needs written for lodepng

Get warpzones working in CSQC!

Zircon Galaxy + intermap can do invalid references to player.  Best way to clear ?

// Zircon Beta Release 50

engine pak - anything in this will supercede all, even files laying around

NOTE: r_refdef.scene.worldmodel does not get cleared on disconnect nor gamedir change

SMEJ - default.cfg add that if GAME_NORMAL and not found in quake.rc? (DONE, but maybe not run default.cfg?)
